* Common LISP A Gentle Introduction - Touretzky, David S.

** Chapter 1

*** Data types

*Symbol* names may contain any combination of letters and numbers, plus special characters such as hypens.
*Integer* any sequence of digits with an optional plus or minus sign.
*T* and *NIL* are special symbols for true and false (emptiness).

*** Predicates

Functions suffixed with 'P' returning T or NIL that evaluate a predicate. i.e. ~ODDP~, ~EVENP~.

~EQUAL~ predicate compares two things to see if they are the same. There are others (~EQ~, ~EQL~, and ~EQUALP~), but ~EQUAL~ is ideal for initial learning.

~NOT~ negates a result.

** Chapter 2

*** Lists

- Are chains of cons cells.
- Cons cells are linked together by pointers.
- Last cons cell points to NIL.
- An empty list is represented by NIL.
  - NIL is still a valid input to ~LENGTH~ because NIL is also a list.

*** List operations

~FIRST~, ~SECOND~, ~THIRD~, ... return list item at that position.
~REST~ returns list containing everything but the first element.
~CAR~ (Contents of Address portion of Register) retrieves the CAR half of the cons cell.
~CDR~ (Contents of Decrement portion of Register) retrieves the CDR half of the cons cell.

*** Functions operate on pointers

Internally, everything is done by pointers, so a function's input / result isn't the object itself, but a pointer to the object.
For example, if you pass a list to a function, it receives a pointer to the first cons cell in the list.

In the case of ~CAR~, it receives a pointer to a cons cell and extracts the pointer sitting in the ~CAR~ half of the cell.
In the case of ~CDR~, it receives the pointer to a cons cell and extracts the pointer sitting in the ~CDR~ half of the cell.

~CONS~ (CONStruct) creates cons cells; it takes two inputs and returns a pointer to a new cons cell whose CAR points to the first input and whose CDR points to the second.

~LIST~ will make a cons cell chain list of its inputs.


*** Example: cons cells using pointers

If we ~CONS~ an item onto the head of list, the item simply points to the existing list.
Below illustrates that (parts of) the list are potentially shared amongst variables.

#+begin_src lisp :results output
  (setf a (list 'a 'b 'c))
  (setf b (cons 'd (cdr a)))
  (format t "a: ~a~%" a)
  (format t "b: ~a~%" b)
  (format t "change second element of list a to 'e~%")
  (setf (car (cdr a)) 'E)
  (format t "a: ~a~%" a)
  (format t "b: ~a~%" b)
#+end_src

#+RESULTS:
: a: (A B C)
: b: (D B C)
: change second element of list a to 'e
: a: (A E C)
: b: (D E C)

*** List Predicates

~LISTP~ returns T if its input is a list, or NIL.
~CONSP~ returns T if its input is a cons cell.
The difference between the two is NIL is a list, but /not/ a cons cell.


